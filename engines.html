<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Search the web together">
    <meta name="author" content="searsia.org">
    <link rel="icon" href="images/search.png">
    <title>Searsia - Adding engines</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/searsia.css" rel="stylesheet">
  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">Searsia</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="start.html">Quick start</a></li>
              <li class="active"><a href="engines.html">Adding Engines</a></li>
              <li><a href="protocol.html">Protocol</a></li>
            </ul>
          <div class="col-sm-3 col-md-3 pull-right">
            <form class="navbar-form" action="search.html">
            <div class="input-group">
            <input type="text" class="form-control" placeholder="search" name="q" id="query">
            <div class="input-group-btn">
                <button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>
            </div>
            </div>
            </form>
          </div>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

      <!-- Main component for a primary marketing message or call to action -->
      <div class="container">
        <div class="row">
          <div class="col-md-8"> 
        <h1><img src="images/search.png" alt=""> Adding engines</h1>
        <p>To see a list of all resources (engines) that are used by your server, open <code>settings.html</code> in your client.
           This will show a table with all resources, about 25 if you connect to the University of
           Twente Searsia server.
        </p>
        <h2 id="enable">Enabling updates</h2>
        <p>You can only update the resources, if your server trusts your client. 
           Assuming that the server's domain is <code>searsia.com</code>, and the client's IP
           address is <code>1.2.3.4</code>, then take the following two steps: 
           (If you don't know the client's IP address, search for
           <a href="https://duckduckgo.com/?q=what+is+my+ip&t=canonical&ia=answer">what is my ip</a>.)
        </p>
        <ol>
           <li> <a href="start.html#client">change the client's API template</a> to 
             <code>http://searsia.com:16842/searsia/search?q={q?}&amp;r={r?}</code>, and</li>
           <li> <a href="start.html#serveroptions">change the server's trusted client</a> by starting the
             sever with <code> java -jar searsia-0.1.jar --trusted 1.2.3.4</code>.</li>
        </ol>
        <p>If the client and server run on your local machine, then change server's domain and
           the client's ip to '<code>localhost</code>'. You can now update the resources from your client's
           <code>settings.html</code>.
        </p>
        <h2 id="definition">Resource definitions</h2>
        <p>
          Each resource is defined by the following list of
        </p>
<table class="table table-bordered">
<tr><th>Setting</th><th>Explanation</th></tr>
<tr><td>  *Id:</td><td>A unique string identifying this resource. Should be unique for the server. </td></tr>
<tr><td>Name:</td><td>A short name for this resource, to be displayed to the user. </td></tr>
<tr><td>Icon:</td><td>The url of the icon image, to be displayed to the user. Icon should have equal width and height.
Icons are preferably png files, not smaller than 48x48 pixels. </td></tr>
<tr><td><span style="white-space:nowrap">User template:</span></td><td>A url specified following the <a href="protocol.html#templates">searsia url template syntax</a>, to be used
by users.  The mime type of this url must be <code>text/html</code> or <code>application/xml+xhtml</code>. </td></tr>
<tr><td><span style="white-space:nowrap">*API template:</span></td><td>A url specified following the <a href="protocol.html#templates">searsia url template syntax</a>, to be used
by the server.</td></tr>
<tr><td>Post string:</td><td>Only set if the API template HTTP method is POST, empty if the HTTP method is GET. Like the template, the post string may include parameters.</td></tr>
<tr><td>*Mime type:</td><td>The format returned by the API Template. Supported formats are: <code>application/searsia+json</code>, <code>text/html</code>, <code>application/xml</code>, <code>application/json</code>. </td></tr>
<tr><td> Test query:</td><td>A query for which a search gives a non-empty result. If not set, the system should give a non-empty result for the query <code>searsia</code>.</td></tr>
<tr><td> Item XPath:</td><td></td></tr>
<tr><td>XPaths:</td><td></td></tr>
<tr><td> Headers:</td><td>HTTP headers to be sent to the API Template, consisting of a field name (without ':') and the field value. Like API Template and Post String, the field value may include parameters. </td></tr>
<tr><td> Secrets:</td><td>Secret parameter names and their values. Occurrences of the parameter names in the API Template, Post String or Headers will be replaced by the value. The server will not share the parameter names and values with other clients. </td></tr>
</table>
<p>* mandatory settings</p>
        
          </div>
        </div>
      </div>
    </div> <!-- /container -->

    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>


